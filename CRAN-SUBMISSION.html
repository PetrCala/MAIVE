<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>CRAN Submission Guide ‚Ä¢ MAIVE</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="CRAN Submission Guide"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">MAIVE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/introduction.html">Getting Started</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/meta-analysis-es/maive" aria-label="GitHub"><span class="fa fab fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>CRAN Submission Guide</h1>
      <small class="dont-index">Source: <a href="https://github.com/meta-analysis-es/maive/blob/main/.github/CRAN-SUBMISSION.md" class="external-link"><code>.github/CRAN-SUBMISSION.md</code></a></small>
    </div>

<div id="cran-submission-guide" class="section level1">

<div class="section level2">
<h2 id="quick-reference">Quick Reference<a class="anchor" aria-label="anchor" href="#quick-reference"></a></h2>
<p><strong>Release to CRAN in one command:</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Ensure working directory is clean, then:</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">make</span> version-patch   <span class="co"># Bug fixes (0.0.X)</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">make</span> version-minor   <span class="co"># New features (0.X.0)  </span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">make</span> version-major   <span class="co"># Breaking changes (X.0.0)</span></span></code></pre></div>
<p>This automatically: bumps version ‚Üí commits ‚Üí creates tag ‚Üí pushes ‚Üí triggers CRAN submission workflow.</p>
<hr><p>This guide provides comprehensive instructions for submitting and maintaining this package on CRAN. It is intended for package maintainers and contains both initial submission and update procedures.</p>
</div>
<div class="section level2">
<h2 id="table-of-contents">Table of Contents<a class="anchor" aria-label="anchor" href="#table-of-contents"></a></h2>
<ul><li><a href="#quick-reference">Quick Reference</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#pre-submission-checklist">Pre-Submission Checklist</a></li>
<li><a href="#submission-methods">Submission Methods</a></li>
<li><a href="#after-submission">After Submission</a></li>
<li><a href="#responding-to-cran-feedback">Responding to CRAN Feedback</a></li>
<li><a href="#updating-your-package-on-cran">Updating Your Package on CRAN</a></li>
<li><a href="#helper-scripts">Helper Scripts</a></li>
<li><a href="#github-actions-workflows">GitHub Actions Workflows</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#resources">Resources</a></li>
</ul></div>
<div class="section level2">
<h2 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a></h2>
<p>Before attempting CRAN submission, ensure you have:</p>
<ul><li>R and RStudio installed and up to date</li>
<li>Required packages: <code>devtools</code>, <code>usethis</code>, <code>rcmdcheck</code>, <code>rhub</code>
</li>
<li>Package passes <code>R CMD check</code> with 0 errors, 0 warnings, 0 notes</li>
<li>All tests passing</li>
<li>Documentation complete and up to date</li>
<li>GitHub repository access with Actions enabled</li>
</ul></div>
<div class="section level2">
<h2 id="pre-submission-checklist">Pre-Submission Checklist<a class="anchor" aria-label="anchor" href="#pre-submission-checklist"></a></h2>
<p>Before each CRAN submission (initial or update), verify:</p>
<div class="section level3">
<h3 id="code-quality">Code Quality<a class="anchor" aria-label="anchor" href="#code-quality"></a></h3>
<ul class="task-list"><li><label><input type="checkbox"><code>R CMD check --as-cran</code> passes with 0 errors, 0 warnings, 0 notes</label></li>
<li><label><input type="checkbox">All tests pass: <code><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">devtools::test()</a></code></label></li>
<li><label><input type="checkbox">Package builds successfully: <code><a href="https://devtools.r-lib.org/reference/build.html" class="external-link">devtools::build()</a></code></label></li>
<li><label><input type="checkbox">No non-ASCII characters unless properly declared</label></li>
<li><label><input type="checkbox">All examples run successfully (or are marked with <code>\dontrun{}</code>)</label></li>
</ul></div>
<div class="section level3">
<h3 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h3>
<ul class="task-list"><li><label><input type="checkbox">All exported functions have complete documentation</label></li>
<li><label><input type="checkbox"><code>DESCRIPTION</code> file is accurate and properly formatted</label></li>
<li><label><input type="checkbox"><code>NEWS.md</code> is updated with version changes</label></li>
<li><label><input type="checkbox"><code>cran-comments.md</code> is current with check results</label></li>
<li><label><input type="checkbox">README is up to date</label></li>
<li><label><input type="checkbox">Vignettes build successfully</label></li>
</ul></div>
<div class="section level3">
<h3 id="version-management">Version Management<a class="anchor" aria-label="anchor" href="#version-management"></a></h3>
<ul class="task-list"><li><label><input type="checkbox">Version number follows semantic versioning (X.Y.Z)</label></li>
<li>
<label><input type="checkbox">Version number is incremented appropriately:</label>
<ul><li>Patch (0.0.X): Bug fixes only</li>
<li>Minor (0.X.0): New features, backward compatible</li>
<li>Major (X.0.0): Breaking changes</li>
</ul></li>
<li><label><input type="checkbox">Version in <code>DESCRIPTION</code> matches <code>NEWS.md</code> entry</label></li>
</ul></div>
<div class="section level3">
<h3 id="legal-and-licensing">Legal and Licensing<a class="anchor" aria-label="anchor" href="#legal-and-licensing"></a></h3>
<ul class="task-list"><li><label><input type="checkbox">LICENSE file is present and properly formatted</label></li>
<li><label><input type="checkbox">All authors and contributors are credited</label></li>
<li><label><input type="checkbox">Copyright holders are correctly listed</label></li>
</ul></div>
<div class="section level3">
<h3 id="github">GitHub<a class="anchor" aria-label="anchor" href="#github"></a></h3>
<ul class="task-list"><li><label><input type="checkbox">All GitHub Actions checks pass (see badges in README)</label></li>
<li><label><input type="checkbox">Latest changes are pushed to GitHub</label></li>
<li><label><input type="checkbox">Version is tagged in git (optional but recommended)</label></li>
</ul></div>
</div>
<div class="section level2">
<h2 id="submission-methods">Submission Methods<a class="anchor" aria-label="anchor" href="#submission-methods"></a></h2>
<div class="section level3">
<h3 id="method-1-makefile-recommended">Method 1: Makefile (Recommended)<a class="anchor" aria-label="anchor" href="#method-1-makefile-recommended"></a></h3>
<p>The simplest way to release. Requires a clean working directory.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># 1. Ensure all changes are committed</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">git</span> status  <span class="co"># Should show "nothing to commit"</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co"># 2. Run the appropriate version bump</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="fu">make</span> version-patch   <span class="co"># 0.1.4 -&gt; 0.1.5 (bug fixes)</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="fu">make</span> version-minor   <span class="co"># 0.1.4 -&gt; 0.2.0 (new features)</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="fu">make</span> version-major   <span class="co"># 0.1.4 -&gt; 1.0.0 (breaking changes)</span></span></code></pre></div>
<p>This single command:</p>
<ol style="list-style-type: decimal"><li>Validates clean working directory</li>
<li>Bumps version in <code>DESCRIPTION</code>
</li>
<li>Commits with message <code>chore: bump version to X.Y.Z</code>
</li>
<li>Creates git tag <code>vX.Y.Z</code>
</li>
<li>Pushes commit and tag to GitHub</li>
<li>Triggers the CRAN submission workflow</li>
</ol><p>Monitor progress at: <a href="https://github.com/meta-analysis-es/maive/actions" class="external-link uri">https://github.com/meta-analysis-es/maive/actions</a></p>
</div>
<div class="section level3">
<h3 id="method-2-manual-workflow-trigger">Method 2: Manual Workflow Trigger<a class="anchor" aria-label="anchor" href="#method-2-manual-workflow-trigger"></a></h3>
<p>For running checks without releasing:</p>
<ol style="list-style-type: decimal"><li>Go to <strong>Actions</strong> ‚Üí <strong>‚ÄúSubmit to CRAN‚Äù</strong>
</li>
<li>Click <strong>‚ÄúRun workflow‚Äù</strong>
</li>
<li>Type <code>CONFIRM</code> and optionally check ‚ÄúSkip CRAN submission‚Äù</li>
<li>Review results in workflow artifacts</li>
</ol></div>
<div class="section level3">
<h3 id="method-3-local-submission">Method 3: Local Submission<a class="anchor" aria-label="anchor" href="#method-3-local-submission"></a></h3>
<p>For complete manual control:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Run checks</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">make</span> cran-check</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Submit manually</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">'devtools::submit_cran()'</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="after-submission">After Submission<a class="anchor" aria-label="anchor" href="#after-submission"></a></h2>
<div class="section level3">
<h3 id="timeline-and-process">Timeline and Process<a class="anchor" aria-label="anchor" href="#timeline-and-process"></a></h3>
<div class="section level4">
<h4 id="id_1-confirmation-email-within-minutes">1. Confirmation Email (within minutes)<a class="anchor" aria-label="anchor" href="#id_1-confirmation-email-within-minutes"></a></h4>
<ul><li>
<strong>Action Required</strong>: CRAN sends a confirmation link</li>
<li>
<strong>Critical</strong>: You MUST click the link within 2 hours</li>
<li>
<strong>Important</strong>: If not confirmed, submission is automatically cancelled</li>
</ul></div>
<div class="section level4">
<h4 id="id_2-automated-checks-within-hours-to-1-day">2. Automated Checks (within hours to 1 day)<a class="anchor" aria-label="anchor" href="#id_2-automated-checks-within-hours-to-1-day"></a></h4>
<ul><li>CRAN runs automated checks across multiple platforms</li>
<li>Results are emailed to the maintainer</li>
<li>Common platforms: Windows, macOS, Linux with multiple R versions</li>
<li>All automated checks must pass before human review</li>
</ul></div>
<div class="section level4">
<h4 id="id_3-human-review-1-2-weeks-typical">3. Human Review (1-2 weeks typical)<a class="anchor" aria-label="anchor" href="#id_3-human-review-1-2-weeks-typical"></a></h4>
<ul><li>A CRAN team member manually reviews the package</li>
<li>They may request changes or clarifications</li>
<li>
<strong>Response time</strong>: You have 2 weeks to respond</li>
<li>
<strong>Important</strong>: Late responses may result in rejection</li>
</ul></div>
<div class="section level4">
<h4 id="id_4-publication-if-approved">4. Publication (if approved)<a class="anchor" aria-label="anchor" href="#id_4-publication-if-approved"></a></h4>
<ul><li>Package appears on CRAN</li>
<li>Available via <code>install.packages("PACKAGE_NAME")</code>
</li>
<li>Updates to CRAN mirror sites may take 24-48 hours</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="monitoring">Monitoring<a class="anchor" aria-label="anchor" href="#monitoring"></a></h3>
<ul><li>Check the email address listed in <code>DESCRIPTION</code> regularly</li>
<li>CRAN correspondence is time-sensitive</li>
<li>Keep records of all CRAN communications</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="responding-to-cran-feedback">Responding to CRAN Feedback<a class="anchor" aria-label="anchor" href="#responding-to-cran-feedback"></a></h2>
<div class="section level3">
<h3 id="general-principles">General Principles<a class="anchor" aria-label="anchor" href="#general-principles"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>Be Prompt</strong>: Respond within 1 week if possible, 2 weeks maximum</li>
<li>
<strong>Be Polite</strong>: CRAN reviewers are volunteers</li>
<li>
<strong>Be Thorough</strong>: Address every point raised</li>
<li>
<strong>Be Clear</strong>: Explain what you changed and why</li>
</ol></div>
<div class="section level3">
<h3 id="common-first-time-issues">Common First-Time Issues<a class="anchor" aria-label="anchor" href="#common-first-time-issues"></a></h3>
<p>CRAN reviewers frequently request changes for:</p>
<div class="section level4">
<h4 id="description-field">Description Field<a class="anchor" aria-label="anchor" href="#description-field"></a></h4>
<ul><li>Must be in title case</li>
<li>No package name repetition</li>
<li>Must describe what the package does, not just repeat the title</li>
<li>Should be a paragraph, not bullet points</li>
<li>References should be in the form: Author (Year) <doi or url></doi></li>
</ul></div>
<div class="section level4">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<ul><li>Must not write to the user‚Äôs home directory</li>
<li>Should not require internet connection (or use <code>\donttest{}</code>)</li>
<li>Must run in &lt; 5 seconds (or use <code>\donttest{}</code>)</li>
<li>Should demonstrate main functionality</li>
</ul></div>
<div class="section level4">
<h4 id="documentation-1">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1"></a></h4>
<ul><li>All exported functions must have <code>\value</code> sections</li>
<li>References must be complete and correctly formatted</li>
<li>Links must be working</li>
</ul></div>
<div class="section level4">
<h4 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a></h4>
<ul><li>Must be a standard CRAN license or have LICENSE file</li>
<li>Copyright holders must be clearly stated</li>
</ul></div>
<div class="section level4">
<h4 id="technical">Technical<a class="anchor" aria-label="anchor" href="#technical"></a></h4>
<ul><li>No calls to <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> or <code><a href="https://rdrr.io/r/base/library.html" class="external-link">require()</a></code> in package code</li>
<li>Use <code>Imports</code> in DESCRIPTION and <code>::</code> notation instead</li>
<li>No modifications to user‚Äôs options or par() without restoration</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="resubmission-process">Resubmission Process<a class="anchor" aria-label="anchor" href="#resubmission-process"></a></h3>
<ol style="list-style-type: decimal"><li>Make all requested changes</li>
<li>Update <code>cran-comments.md</code> with:
<ul><li>Summary of changes made</li>
<li>Responses to each point raised</li>
<li>Any explanations needed</li>
</ul></li>
<li>Update version number (typically increment patch version)</li>
<li>Update <code>NEWS.md</code> with changes</li>
<li>Run full check suite again</li>
<li>Resubmit using same method as initial submission</li>
</ol></div>
</div>
<div class="section level2">
<h2 id="updating-your-package-on-cran">Updating Your Package on CRAN<a class="anchor" aria-label="anchor" href="#updating-your-package-on-cran"></a></h2>
<div class="section level3">
<h3 id="when-to-update">When to Update<a class="anchor" aria-label="anchor" href="#when-to-update"></a></h3>
<ul><li>
<strong>Bug fixes</strong>: As soon as critical bugs are identified</li>
<li>
<strong>New features</strong>: When substantial improvements are ready</li>
<li>
<strong>CRAN requests</strong>: Immediately when CRAN requests updates (e.g., for policy changes)</li>
<li>
<strong>Dependency changes</strong>: When dependencies are updated or deprecated</li>
</ul></div>
<div class="section level3">
<h3 id="frequency">Frequency<a class="anchor" aria-label="anchor" href="#frequency"></a></h3>
<ul><li>Avoid too frequent updates (give users time to adapt)</li>
<li>Minimum recommended interval: 1-2 months (except critical bugs)</li>
<li>Maximum recommended interval: 1 year (show active maintenance)</li>
</ul></div>
<div class="section level3">
<h3 id="update-workflow">Update Workflow<a class="anchor" aria-label="anchor" href="#update-workflow"></a></h3>
<div class="section level4">
<h4 id="id_1-version-bump">1. Version Bump<a class="anchor" aria-label="anchor" href="#id_1-version-bump"></a></h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"scripts/update-version.R"</span><span class="op">)</span></span>
<span><span class="co"># Follow prompts to select version increment type</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_2-document-changes">2. Document Changes<a class="anchor" aria-label="anchor" href="#id_2-document-changes"></a></h4>
<p>Update <code>NEWS.md</code> with:</p>
<ul><li>Version number and date</li>
<li>All user-facing changes</li>
<li>Bug fixes</li>
<li>New features</li>
<li>Deprecated functions</li>
<li>Breaking changes (if any)</li>
</ul></div>
<div class="section level4">
<h4 id="id_3-update-documentation">3. Update Documentation<a class="anchor" aria-label="anchor" href="#id_3-update-documentation"></a></h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Update roxygen documentation</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Rebuild pkgdown site</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"scripts/build-docs.R"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_4-run-checks">4. Run Checks<a class="anchor" aria-label="anchor" href="#id_4-run-checks"></a></h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"scripts/check-cran.R"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_5-commit-and-tag">5. Commit and Tag<a class="anchor" aria-label="anchor" href="#id_5-commit-and-tag"></a></h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Release vX.Y.Z"</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="fu">git</span> tag vX.Y.Z</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="fu">git</span> push origin main <span class="at">--tags</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_6-submit-update">6. Submit Update<a class="anchor" aria-label="anchor" href="#id_6-submit-update"></a></h4>
<p>Follow the same submission process as initial submission.</p>
</div>
<div class="section level4">
<h4 id="id_7-update-documentation-after-acceptance">7. Update Documentation After Acceptance<a class="anchor" aria-label="anchor" href="#id_7-update-documentation-after-acceptance"></a></h4>
<p>Once published on CRAN:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Update README badges if needed</span></span>
<span><span class="co"># Update website</span></span>
<span><span class="fu">pkgdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgdown.r-lib.org/reference/build_site.html" class="external-link">build_site</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="helper-scripts">Helper Scripts<a class="anchor" aria-label="anchor" href="#helper-scripts"></a></h2>
<p>The package includes several helper scripts in the <code>scripts/</code> directory:</p>
<div class="section level3">
<h3 id="check-cranr">check-cran.R<a class="anchor" aria-label="anchor" href="#check-cranr"></a></h3>
<p>Comprehensive CRAN readiness checker.</p>
<p><strong>What it does:</strong></p>
<ul><li>Updates roxygen documentation</li>
<li>Runs <code>R CMD check --as-cran</code>
</li>
<li>Submits to R-hub for multi-platform checks</li>
<li>Summarizes results</li>
</ul><p><strong>Usage:</strong></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"scripts/check-cran.R"</span><span class="op">)</span></span></code></pre></div>
<p><strong>When to use:</strong></p>
<ul><li>Before every CRAN submission</li>
<li>After making significant changes</li>
<li>When troubleshooting check failures</li>
</ul></div>
<div class="section level3">
<h3 id="submit-cranr">submit-cran.R<a class="anchor" aria-label="anchor" href="#submit-cranr"></a></h3>
<p>Interactive CRAN submission wizard.</p>
<p><strong>What it does:</strong></p>
<ul><li>Walks through pre-submission checklist</li>
<li>Runs final Windows builder checks</li>
<li>Submits to CRAN</li>
<li>Provides post-submission instructions</li>
</ul><p><strong>Usage:</strong></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"scripts/submit-cran.R"</span><span class="op">)</span></span></code></pre></div>
<p><strong>When to use:</strong></p>
<ul><li>For final CRAN submission</li>
<li>When you want guided submission process</li>
</ul></div>
<div class="section level3">
<h3 id="build-docsr">build-docs.R<a class="anchor" aria-label="anchor" href="#build-docsr"></a></h3>
<p>Documentation builder and previewer.</p>
<p><strong>What it does:</strong></p>
<ul><li>Updates roxygen documentation</li>
<li>Builds pkgdown website</li>
<li>Optionally opens preview in browser</li>
</ul><p><strong>Usage:</strong></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"scripts/build-docs.R"</span><span class="op">)</span></span></code></pre></div>
<p><strong>When to use:</strong></p>
<ul><li>After changing documentation</li>
<li>Before releasing new version</li>
<li>When updating website</li>
</ul></div>
<div class="section level3">
<h3 id="update-versionr">update-version.R<a class="anchor" aria-label="anchor" href="#update-versionr"></a></h3>
<p>Version management utility.</p>
<p><strong>What it does:</strong></p>
<ul><li>Interactive version bumping (patch/minor/major)</li>
<li>Updates DESCRIPTION</li>
<li>Updates NEWS.md template</li>
<li>Provides git tagging instructions</li>
</ul><p><strong>Usage:</strong></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"scripts/update-version.R"</span><span class="op">)</span></span></code></pre></div>
<p><strong>When to use:</strong></p>
<ul><li>At the start of each release cycle</li>
<li>When preparing for CRAN submission</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="github-actions-workflows">GitHub Actions Workflows<a class="anchor" aria-label="anchor" href="#github-actions-workflows"></a></h2>
<div class="section level3">
<h3 id="r-cmd-checkyaml">R-CMD-check.yaml<a class="anchor" aria-label="anchor" href="#r-cmd-checkyaml"></a></h3>
<p><strong>Purpose</strong>: Continuous integration testing across platforms</p>
<p><strong>Triggers</strong>:</p>
<ul><li>Every push to main</li>
<li>Every pull request</li>
</ul><p><strong>What it does</strong>:</p>
<ul><li>Runs <code>R CMD check</code> on multiple platforms:
<ul><li>Windows (R-release)</li>
<li>macOS (R-release)</li>
<li>Linux (R-release, R-devel, R-oldrel)</li>
</ul></li>
<li>Uploads check results</li>
<li>Updates status badge</li>
</ul><p><strong>How to monitor</strong>:</p>
<ul><li>Check README badge</li>
<li>View Actions tab on GitHub</li>
<li>Receive email notifications on failures</li>
</ul></div>
<div class="section level3">
<h3 id="pkgdownyaml">pkgdown.yaml<a class="anchor" aria-label="anchor" href="#pkgdownyaml"></a></h3>
<p><strong>Purpose</strong>: Automated documentation website</p>
<p><strong>Triggers</strong>:</p>
<ul><li>Push to main branch</li>
<li>Pull requests (for testing)</li>
<li>Releases</li>
</ul><p><strong>What it does</strong>:</p>
<ul><li>Builds pkgdown website</li>
<li>Deploys to GitHub Pages</li>
<li>Updates documentation site</li>
</ul><p><strong>Setup required</strong>:</p>
<ol style="list-style-type: decimal"><li>Enable GitHub Pages in repository settings</li>
<li>Set source to <code>gh-pages</code> branch</li>
<li>Website will be at: <code>https://USERNAME.github.io/REPO/</code>
</li>
</ol></div>
<div class="section level3">
<h3 id="test-coverageyaml">test-coverage.yaml<a class="anchor" aria-label="anchor" href="#test-coverageyaml"></a></h3>
<p><strong>Purpose</strong>: Track test coverage</p>
<p><strong>Triggers</strong>:</p>
<ul><li>Every push to main</li>
<li>Every pull request</li>
</ul><p><strong>What it does</strong>:</p>
<ul><li>Runs test suite with coverage tracking</li>
<li>Uploads results to Codecov (if configured)</li>
<li>Updates coverage badge</li>
</ul><p><strong>Optional setup</strong>:</p>
<ul><li>Add <code>CODECOV_TOKEN</code> to GitHub secrets</li>
<li>Badge will show in README</li>
</ul></div>
<div class="section level3">
<h3 id="submit-cranyaml">submit-cran.yaml<a class="anchor" aria-label="anchor" href="#submit-cranyaml"></a></h3>
<p><strong>Purpose</strong>: Pre-submission validation</p>
<p><strong>Triggers</strong>:</p>
<ul><li>Manual (workflow_dispatch)</li>
<li>Requires typing ‚ÄúCONFIRM‚Äù</li>
</ul><p><strong>What it does</strong>:</p>
<ul><li>Runs comprehensive CRAN checks</li>
<li>Submits to R-hub</li>
<li>Provides submission guidance</li>
<li>Does NOT automatically submit to CRAN (manual step required)</li>
</ul><p><strong>Safety features</strong>:</p>
<ul><li>Requires explicit confirmation</li>
<li>Multiple check layers</li>
<li>Human review before final submission</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a></h2>
<div class="section level3">
<h3 id="package-checks">Package Checks<a class="anchor" aria-label="anchor" href="#package-checks"></a></h3>
<div class="section level4">
<h4 id="package-has-notes">‚ÄúPackage has NOTES‚Äù<a class="anchor" aria-label="anchor" href="#package-has-notes"></a></h4>
<p><strong>Issue</strong>: <code>R CMD check</code> returns notes</p>
<p><strong>Solutions</strong>:</p>
<ul><li>Some notes are acceptable (e.g., ‚ÄúNew submission‚Äù)</li>
<li>Read each note carefully</li>
<li>Common acceptable notes:
<ul><li>‚ÄúNew submission‚Äù (first submission)</li>
<li>‚ÄúPossibly mis-spelled words‚Äù (if they‚Äôre correct technical terms)</li>
</ul></li>
<li>Must address:
<ul><li>Unused dependencies</li>
<li>Large package size without justification</li>
<li>Unquoted URLs in DESCRIPTION</li>
</ul></li>
</ul><p><strong>Check</strong>: Run <code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code> to see specific notes</p>
</div>
<div class="section level4">
<h4 id="examples-fail">‚ÄúExamples fail‚Äù<a class="anchor" aria-label="anchor" href="#examples-fail"></a></h4>
<p><strong>Issue</strong>: Examples in documentation don‚Äôt run</p>
<p><strong>Solutions</strong>:</p>
<ul><li>Wrap long-running examples in <code>\donttest{}</code>
</li>
<li>Wrap examples requiring user input in <code>\dontrun{}</code>
</li>
<li>Ensure all example data is available</li>
<li>Check for missing library calls (use <code>::</code> notation instead)</li>
<li>Test examples: <code><a href="https://devtools.r-lib.org/reference/run_examples.html" class="external-link">devtools::run_examples()</a></code>
</li>
</ul></div>
<div class="section level4">
<h4 id="tests-fail-in-r-cmd-check-but-pass-locally">‚ÄúTests fail in R CMD check but pass locally‚Äù<a class="anchor" aria-label="anchor" href="#tests-fail-in-r-cmd-check-but-pass-locally"></a></h4>
<p><strong>Issue</strong>: Tests work locally but fail during check</p>
<p><strong>Common causes and solutions</strong>:</p>
<ul><li>Internet dependency: Mock external calls or skip when offline</li>
<li>File writing: Use <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> instead of user directories</li>
<li>Random numbers: Set seed for reproducibility</li>
<li>Platform differences: Use <code>skip_on_cran()</code> for platform-specific tests</li>
<li>Parallel processing: May cause timing issues, consider sequential for CRAN</li>
</ul><p><strong>Check</strong>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">check</a></span><span class="op">(</span>cran <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>  <span class="co"># Mimics CRAN checks locally</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="platform-specific-issues">Platform-Specific Issues<a class="anchor" aria-label="anchor" href="#platform-specific-issues"></a></h3>
<div class="section level4">
<h4 id="r-hub-checks-fail">‚ÄúR-hub checks fail‚Äù<a class="anchor" aria-label="anchor" href="#r-hub-checks-fail"></a></h4>
<p><strong>Issue</strong>: Package fails on R-hub but passes locally</p>
<p><strong>Solutions</strong>:</p>
<ul><li><p>R-hub is stricter than local checks</p></li>
<li>
<p>Common issues:</p>
<ul><li>Missing system dependencies</li>
<li>Path separators (use <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code>)</li>
<li>Character encoding issues</li>
<li>Platform-specific function calls</li>
</ul></li>
<li><p>Check R-hub output carefully for specific errors</p></li>
<li>
<p>Test on specific platform:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rhub</span><span class="fu">::</span><span class="fu"><a href="https://r-hub.github.io/rhub/reference/rhub_check.html" class="external-link">rhub_check</a></span><span class="op">(</span>platform <span class="op">=</span> <span class="st">"windows-x86_64-devel"</span><span class="op">)</span></span></code></pre></div>
</li>
</ul></div>
<div class="section level4">
<h4 id="windows-check-fails">‚ÄúWindows check fails‚Äù<a class="anchor" aria-label="anchor" href="#windows-check-fails"></a></h4>
<p><strong>Issue</strong>: Package fails on Windows but works on Unix</p>
<p><strong>Common issues</strong>:</p>
<ul><li>Path separators: Use <code><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path()</a></code> not paste with ‚Äú/‚Äù</li>
<li>Line endings: Git should handle automatically</li>
<li>Case sensitivity: Windows is case-insensitive</li>
<li>File locking: Windows locks files more aggressively</li>
</ul><p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/check_win.html" class="external-link">check_win_devel</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># Test on Windows</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="documentation-issues">Documentation Issues<a class="anchor" aria-label="anchor" href="#documentation-issues"></a></h3>
<div class="section level4">
<h4 id="rd-files-have-issues">‚ÄúRd files have issues‚Äù<a class="anchor" aria-label="anchor" href="#rd-files-have-issues"></a></h4>
<p><strong>Issue</strong>: Documentation formatting is incorrect</p>
<p><strong>Solutions</strong>:</p>
<ul><li>Use roxygen2, don‚Äôt edit .Rd files directly</li>
<li>Check for unescaped special characters: <code>%</code>, <code>\</code>, <code>#</code>
</li>
<li>Ensure all cross-references exist</li>
<li>Validate: <code><a href="https://devtools.r-lib.org/reference/check_man.html" class="external-link">devtools::check_man()</a></code>
</li>
</ul></div>
<div class="section level4">
<h4 id="vignette-fails-to-build">‚ÄúVignette fails to build‚Äù<a class="anchor" aria-label="anchor" href="#vignette-fails-to-build"></a></h4>
<p><strong>Issue</strong>: Vignettes don‚Äôt build during check</p>
<p><strong>Solutions</strong>:</p>
<ul><li>Ensure all vignette dependencies in Suggests</li>
<li>Use <code>eval=FALSE</code> for code that needs special setup</li>
<li>Don‚Äôt require internet connection</li>
<li>Keep vignettes small and fast</li>
<li>Test: <code><a href="https://devtools.r-lib.org/reference/build_vignettes.html" class="external-link">devtools::build_vignettes()</a></code>
</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="github-actions-issues">GitHub Actions Issues<a class="anchor" aria-label="anchor" href="#github-actions-issues"></a></h3>
<div class="section level4">
<h4 id="workflow-fails">‚ÄúWorkflow fails‚Äù<a class="anchor" aria-label="anchor" href="#workflow-fails"></a></h4>
<p><strong>Issue</strong>: GitHub Actions workflow doesn‚Äôt complete</p>
<p><strong>Common causes</strong>:</p>
<ul><li>Network timeouts: Add retries or increase timeout</li>
<li>Missing dependencies: Add to DESCRIPTION or workflow</li>
<li>R version compatibility: Test against matrix of R versions</li>
<li>Secrets missing: Check repository secrets settings</li>
</ul><p><strong>Debug</strong>:</p>
<ul><li>View workflow logs in Actions tab</li>
<li>Check step-by-step output</li>
<li>Reproduce locally if possible</li>
</ul></div>
<div class="section level4">
<h4 id="badge-shows-failing">‚ÄúBadge shows ‚Äòfailing‚Äô‚Äù<a class="anchor" aria-label="anchor" href="#badge-shows-failing"></a></h4>
<p><strong>Issue</strong>: README badge shows red</p>
<p><strong>Solutions</strong>:</p>
<ul><li>Click badge to see workflow run</li>
<li>Check which platform failed</li>
<li>Review error messages</li>
<li>Fix issue and push again</li>
</ul></div>
</div>
</div>
<div class="section level2">
<h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a></h2>
<div class="section level3">
<h3 id="official-cran-documentation">Official CRAN Documentation<a class="anchor" aria-label="anchor" href="#official-cran-documentation"></a></h3>
<ul><li>
<strong>CRAN Repository Policy</strong>: <a href="https://cran.r-project.org/web/packages/policies.html" class="external-link uri">https://cran.r-project.org/web/packages/policies.html</a>
<ul><li>Required reading before submission</li>
<li>Updated regularly, check for changes</li>
</ul></li>
<li>
<strong>Writing R Extensions</strong>: <a href="https://cran.r-project.org/doc/manuals/r-release/WRE.html" class="external-link uri">https://cran.r-project.org/doc/manuals/r-release/WRE.html</a>
<ul><li>Comprehensive guide to R package development</li>
<li>Technical details on package structure</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="books-and-guides">Books and Guides<a class="anchor" aria-label="anchor" href="#books-and-guides"></a></h3>
<ul><li>
<strong>R Packages</strong> (Hadley Wickham &amp; Jennifer Bryan): <a href="https://r-pkgs.org/" class="external-link uri">https://r-pkgs.org/</a>
<ul><li>Modern R package development practices</li>
<li>Excellent for beginners and experts</li>
</ul></li>
<li>
<strong>rOpenSci Packaging Guide</strong>: <a href="https://devguide.ropensci.org/" class="external-link uri">https://devguide.ropensci.org/</a>
<ul><li>Best practices for R packages</li>
<li>Additional quality standards</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="tools">Tools<a class="anchor" aria-label="anchor" href="#tools"></a></h3>
<ul><li>
<strong>R-hub Builder</strong>: <a href="https://builder.r-hub.io/" class="external-link uri">https://builder.r-hub.io/</a>
<ul><li>Test on multiple platforms before CRAN submission</li>
<li>Free service for R package developers</li>
</ul></li>
<li>
<strong>GitHub Actions for R</strong>: <a href="https://github.com/r-lib/actions" class="external-link uri">https://github.com/r-lib/actions</a>
<ul><li>Pre-built workflows for R packages</li>
<li>Examples and documentation</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a></h3>
<div class="section level4">
<h4 id="for-package-specific-issues">For Package-Specific Issues<a class="anchor" aria-label="anchor" href="#for-package-specific-issues"></a></h4>
<ul><li>
<strong>GitHub Issues</strong>: Repository Issues tab
<ul><li>Bug reports</li>
<li>Feature requests</li>
<li>General questions</li>
</ul></li>
<li>
<strong>Maintainer Email</strong>: Listed in DESCRIPTION file
<ul><li>Direct contact for specific concerns</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="for-cran-submission-help">For CRAN Submission Help<a class="anchor" aria-label="anchor" href="#for-cran-submission-help"></a></h4>
<ul><li>
<strong>R-package-devel mailing list</strong>: <a href="https://stat.ethz.ch/mailman/listinfo/r-package-devel" class="external-link uri">https://stat.ethz.ch/mailman/listinfo/r-package-devel</a>
<ul><li>Community support for package development</li>
<li>Search archives before posting</li>
</ul></li>
<li>
<strong>CRAN Team</strong>: <a href="mailto:CRAN@R-project.org" class="email">CRAN@R-project.org</a>
<ul><li>Only for submission-related questions</li>
<li>Response may take several days</li>
<li>Be respectful of volunteer time</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="community-resources">Community Resources<a class="anchor" aria-label="anchor" href="#community-resources"></a></h4>
<ul><li>
<strong>Stack Overflow</strong>: Tag questions with [r] and [cran]</li>
<li>
<strong>RStudio Community</strong>: <a href="https://community.rstudio.com/" class="external-link uri">https://community.rstudio.com/</a>
</li>
<li>
<strong>R4DS Slack</strong>: <a href="https://www.rfordatasci.com/" class="external-link uri">https://www.rfordatasci.com/</a>
</li>
</ul></div>
</div>
</div>
<div class="section level2">
<h2 id="best-practices-summary">Best Practices Summary<a class="anchor" aria-label="anchor" href="#best-practices-summary"></a></h2>
<div class="section level3">
<h3 id="general-principles-1">General Principles<a class="anchor" aria-label="anchor" href="#general-principles-1"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>Test Early and Often</strong>: Don‚Äôt wait until submission to run checks</li>
<li>
<strong>Version Control</strong>: Use git tags for releases</li>
<li>
<strong>Documentation</strong>: Keep all docs up to date</li>
<li>
<strong>Communication</strong>: Be responsive to CRAN and users</li>
<li>
<strong>Quality</strong>: Maintain high code and documentation standards</li>
</ol></div>
<div class="section level3">
<h3 id="before-every-submission">Before Every Submission<a class="anchor" aria-label="anchor" href="#before-every-submission"></a></h3>
<ol style="list-style-type: decimal"><li>Run full check suite</li>
<li>Update all documentation</li>
<li>Increment version appropriately</li>
<li>Update NEWS.md</li>
<li>Review cran-comments.md</li>
<li>Test on multiple platforms</li>
<li>Commit and tag</li>
</ol></div>
<div class="section level3">
<h3 id="during-cran-review">During CRAN Review<a class="anchor" aria-label="anchor" href="#during-cran-review"></a></h3>
<ol style="list-style-type: decimal"><li>Monitor email regularly</li>
<li>Respond promptly to requests</li>
<li>Be polite and professional</li>
<li>Document all changes made</li>
<li>Test thoroughly before resubmission</li>
</ol></div>
<div class="section level3">
<h3 id="after-acceptance">After Acceptance<a class="anchor" aria-label="anchor" href="#after-acceptance"></a></h3>
<ol style="list-style-type: decimal"><li>Announce release (if appropriate)</li>
<li>Update website</li>
<li>Monitor for bug reports</li>
<li>Plan next version</li>
<li>Maintain regular updates</li>
</ol><hr></div>
</div>
<div class="section level2">
<h2 id="final-notes">Final Notes<a class="anchor" aria-label="anchor" href="#final-notes"></a></h2>
<p><strong>Remember</strong>: The CRAN team are volunteers who maintain one of the most important infrastructure pieces of the R ecosystem. They process thousands of packages and updates annually. Being patient, polite, and thorough in your submissions makes their job easier and increases the likelihood of smooth acceptance.</p>
<p><strong>Questions?</strong> Refer to this guide, search documentation, and ask the community before contacting CRAN directly. Most questions have been answered before.</p>
<p><strong>Good luck with your CRAN submission!</strong> üöÄ</p>
<hr><p><em>This guide is maintained as part of the package repository. Updates and corrections are welcome via pull requests.</em></p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://meta-analysis.cz" class="external-link">Zuzana Irsova</a>, <a href="https://www.deusto.es" class="external-link">Pedro R. D. Bom</a>, <a href="https://meta-analysis.cz" class="external-link">Tomas Havranek</a>, <a href="https://www.uib.es" class="external-link">Heiko Rachinger</a>, Petr Cala.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

